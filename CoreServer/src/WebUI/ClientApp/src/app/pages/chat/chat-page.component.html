<div class="flex flex-row h-full w-full">
  <div class="w-56 bg-background-secondary h-full p-1">
    <div class="w-full h-16 p-2 justify-start align-middle rounded hover:bg-background-highlight flex flex-row"
         [class.bg-background-highlight]="session.id===selectedSession?.id" *ngFor="let session of sessions"
    (click)="selectedSession=session">
      <app-avatar [user]="getRepresentingUserIdInSession(session)|user|async" class="w-10 h-10"></app-avatar>
      <div class="flex flex-col ml-2 h-full">
        <div class="text-sm font-medium text-white">
          <span *ngIf="session.name">{{session.name}}</span>
          <ng-container *ngIf="!session.name"><span class="[&:not(:last-child)]:after:content-[', ']"
                              *ngFor="let userId of getUserIdsForNameDisplay(session)">{{(userId|user|async)?.userName}}</span></ng-container>
        </div>
        <div class="text-xs text-text overflow-ellipsis">{{session.lastMessage?.text}}</div>
      </div>
    </div>
  </div>
  <app-chat class="flex-1 h-full" *ngIf="selectedSession" [session]="selectedSession"></app-chat>
</div>
